<div class="bg-white p-4 rounded-lg border border-gray-200 space-y-4">
  <h3 class="font-semibold text-gray-800 flex items-center gap-2">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-orange-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
    </svg>
    Message Queues & Streaming
  </h3>

  <div class="flex items-center">
    <input type="checkbox" [(ngModel)]="config.enabled" (change)="onChange()" id="msg-enable" class="h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded">
    <label for="msg-enable" class="ml-3 text-sm font-medium text-gray-700">Enable Message Queue</label>
  </div>

  <div *ngIf="config.enabled" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Queue Type</label>
      <select [(ngModel)]="config.type" (change)="onChange()" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm">
        <option *ngFor="let type of queueTypes" [value]="type">{{ type | uppercase }}</option>
      </select>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Messages per Day</label>
      <input type="number" min="0" step="1000" [(ngModel)]="config.messages_per_day" (change)="onChange()" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Retention Days</label>
      <input type="number" min="1" max="365" [(ngModel)]="config.retention_days" (change)="onChange()" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-orange-500 focus:border-orange-500 text-sm">
    </div>

    <div class="flex items-center">
      <input type="checkbox" [(ngModel)]="config.dlq_enabled" (change)="onChange()" id="dlq" class="h-4 w-4 text-orange-600 focus:ring-orange-500 border-gray-300 rounded">
      <label for="dlq" class="ml-3 text-sm font-medium text-gray-700">Enable Dead Letter Queue</label>
    </div>
  </div>

  <div class="bg-orange-50 border-l-4 border-orange-500 p-3 rounded text-sm text-orange-700">
    <p><strong>Tip:</strong> SQS is serverless (pay per request), Kafka requires brokers (better for high throughput). DLQ helps handle failed messages.</p>
  </div>
</div>
